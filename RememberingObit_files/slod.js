var slod={mod_id:"ap_slod",is_submit_visible:true,init:function(){$("#ap_slod_keywords_wrap input").focus(slod.focus_input);$("#ap_slod_keywords_wrap input").blur(slod.blur_input);$("#ap_slod_keywords_wrap input").keypress(function(a){if(a.which==13){$(this).blur();ap_isu.apply_search();return false;}});$("#ap_slod_categories select").change(function(a){ap_isu.set_tmp_item("category_slug",$(this).val());ap_isu.update_modules(slod.mod_id);}).trigger("change");$(".ap_slod_area_wrap").click(slod.change_area);$(".ap_slod_submit_5").click(slod.text_submit);$(".location_input").bind("focus keypress",function(){$(".location_input").removeClass("has-error");});$(".ap_slod_submit").click(slod.submit);ap_isu.register_callback(slod.mod_id,slod.update_components);},text_submit:function(b){var a=$(this).closest(".ap_int_search_mod").find(".location_input");var c=a.val();if(c.length==0){a.addClass("has-error");mod_usermap.save_location("find_geolocation");return;}else{if(!mod_usermap.has_highlight){mod_usermap.get_first_suggested_place(a);}}},submit:function(a){$(this).closest(".ap_int_search_mod").find("#ap_slod_keywords_wrap input").blur();ap_isu.apply_search();},change_area:function(a){if(typeof ap_isu.show_area_popup=="function"){ap_isu.show_area_popup();}},focus_input:function(a){if($.trim($(this).val())==mod.slod.defaultvalue){$(this).val("");}},blur_input:function(b){var a=$.trim($(this).val());if(a===mod.slod.defaultvalue){a="";}if(a==""){$(this).val(mod.slod.defaultvalue);}ap_isu.update_terms(a,slod.mod_id);},update_components:function(a){if(a.terms){$("#ap_slod_keywords_wrap input").val(a.terms);}if(typeof a.loc_str=="string"){$(".ap_slod_location").each(function(){$(this).html(a.loc_str);});}else{if(a.loc_str==false){$(".ap_slod_location").each(function(){$(this).html(mod.slod.nolocationtext);});}}if(a.dist_str){$(".ap_slod_distance").each(function(){$(this).html(a.dist_str);});}if(typeof a.category_slug=="string"){$(".ap_slod_categories select").each(function(){$(this).val(a.category_slug);});}}};$(slod.init);